<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace : xml파일은 여러개일 수 있으므로 이를 구별하기 위한 식별 용도로 사용 -->
<mapper namespace="member">

	<!-- Member테이블에 insert -->
	<insert id="memberInsert" parameterType="memberVO">
		INSERT INTO member (
		user_id,
		password,
		coin,
		birth,
		gender,
		nationality,
		marriaged,
		cars,
		hobby_list
		) VALUES (
		#{userId},
		#{password},
		#{coin},
		#{birth},
		#{gender},
		#{nationality},
		#{marriaged},
		#{car},
		#{hobby}
		)
	</insert>
	<!-- memberVO안에 addressVO가 있는데 1:1의 관계이다. ADDRESS 테이블에 INSERT addressvo 
		addressvo=membervo.getaddressvo() -->
	<insert id="addressInsert" parameterType="memberVO">
		INSERT INTO address (
		user_id,
		post_code,
		address,
		address_detail
		) VALUES (
		#{userId},
		#{addressVO.postCode},
		#{addressVO.address},
		#{addressVO.addessDetail}
		)
	</insert>

	<!-- memberVO : CARDvolist = 1:n 관계 card 테이블에 insert list,cardVO> cardVOList 
		= memberVO.getCardVOList(); -->
	<update id="insertCard" parameterType="java.util.List">
		<foreach collection="list" item="cardVO" open="INSERT ALL "
			close="SELECT * FROM SYS.DUAL" separator=" ">
			INTO CARD VALUES(#{cardVO.userId},#{cardVO.no},#{cardVO.validMonth})
		</foreach>
	</update>

</mapper>













