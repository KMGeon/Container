<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
   #it {
      width: 30px;
   }
</style>
<script type="text/javascript">
   var computer = rand();
   var result = "";
   function getStrike(computer, player) {
      var cnt = 0;
      var p1 = player.substring(0, 1);
      var p2 = player.substring(1, 2);
      var p3 = player.substring(2);
      
      var c1 = computer.substring(0, 1);
      var c2 = computer.substring(1, 2);
      var c3 = computer.substring(2);
      
      if(p1 == c1) {
         cnt++;
      }
      if(p2 == c2) {
         cnt++;
      }
      if(p3 == c3) {
         cnt++;
      }
      return cnt;
   }
   function getBall(computer, player) {
      var cnt = 0;
      var p1 = player.substring(0, 1);
      var p2 = player.substring(1, 2);
      var p3 = player.substring(2);
      
      var c1 = computer.substring(0, 1);
      var c2 = computer.substring(1, 2);
      var c3 = computer.substring(2);
      
      if(p1 == c2 || p1 == c3) {
         cnt++;
      }
      if(p2 == c1 || p2 == c3) {
         cnt++;
      }
      if(p3 == c1 || p3 == c2) {
         cnt++;
      }
      return cnt;
   }
   function myclick() {
      var player = document.querySelector("#it").value;
      var ta = document.querySelector("#ta");
      var strk = getStrike(computer, player);
      var ball = getBall(computer, player);
      var str = "";
      str += player + " = " + strk + "S  " + ball + "B\r\n";
      ta.innerHTML += str;
      if(strk == 3) {
         alert("정답 : " + player);
      }
   }

   function rand() {
      var rnd = [3];
      for(var i=0; i<3; i++) {
         rnd[i] = parseInt(Math.random() * 9);
         for(var j=0; j<i; j++) {
            if(rnd[i] == rnd[j]) {
               i--;
               break;
            }
         }
      }
      return String(rnd[0]) + String(rnd[1]) + String(rnd[2]);
   }
</script>
</head>
<body>
   <table border=1>
      <tr>
         <td>스트라이크</td>
         <td>
            <input type="text" id="it">
         </td>
      </tr>
      <tr>
         <td colspan=2>
            <input type="button" value="맞추기" onclick="myclick()">
         </td>
      </tr>
      <tr>
         <td colspan=2>
            <textarea id="ta" rows="20" cols="20"></textarea>
         </td>
      </tr>
   </table>
</body>
</html>